/*!
 * jQuery Fraction Slider v0.9.9.9
 * http://fractionslider.jacksbox.de
 *
 * Author: Mario JÃ¤ckle
 * eMail: support@jacksbox.de
 *
 * Copyright 2013, jacksbox.design
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Special thanks to: Lietzi (https://github.com/lietzi) for contributing
 */
(function(m){var s=null,A={init:function(g){var c=m.extend({slideTransition:"none",slideTransitionSpeed:2E3,slideEndAnimation:!0,position:"0,0",transitionIn:"left",transitionOut:"left",fullWidth:!1,delay:0,timeout:2E3,speedIn:2500,speedOut:1E3,easeIn:"easeOutExpo",easeOut:"easeOutCubic",controls:!1,pager:!1,autoChange:!0,pauseOnHover:!1,backgroundAnimation:!1,backgroundElement:null,backgroundX:500,backgroundY:500,backgroundSpeed:2500,backgroundEase:"easeOutCubic",responsive:!1,increase:!1,dimensions:"",
startCallback:null,startNextSlideCallback:null,stopCallback:null,pauseCallback:null,resumeCallback:null,nextSlideCallback:null,prevSlideCallback:null,pagerCallback:null},g);return this.each(function(){s=new F(this,c)})},pause:function(){s.pause(!0)},resume:function(){s.resume()},stop:function(){s.stop()},start:function(){s.start()},startNextSlide:function(){s.startNextSlide()}},F=function(g,c){function w(){a.stop=!1;a.pause=!1;a.running=!0;u("slide");x(c.startCallback)}function s(){a.stop=!0;a.running=
!1;l.find(".slide").stop(!0,!0);l.find(".fs_obj").stop(!0,!0).removeClass("fs-animation");M(G);x(c.stopCallback)}function A(e){a.pause=!0;a.running=!1;e&&l.find(".fs-animation").finish();x(c.pauseCallback)}function C(){a.stop=!1;a.pause=!1;a.running=!0;a.slideComplete?u("slide"):a.stepComplete?u("step"):a.finishedObjs<a.maxObjs||(a.currentStep<a.maxStep?u("step"):u("slide"));x(c.resumeCallback)}function H(){a.lastSlide=a.currentSlide;a.currentSlide+=1;a.stop=!1;a.pause=!1;a.running=!0;D();x(c.nextSlideCallback)}
function x(e){m.isFunction(e)&&e.call(this,l,a.currentSlide,a.lastSlide,a.currentStep)}function u(e){if(!a.pause&&!a.stop&&a.running)switch(e){case "slide":a.slideComplete=!1;F();break;case "step":a.stepComplete=!1;e=0==a.currentStep?k.currentSlide.children('*:not([data-step]):not([data-fixed]), *[data-step="'+a.currentStep+'"]:not([data-fixed])'):k.currentSlide.children('*[data-step="'+a.currentStep+'"]:not([data-fixed])');a.maxObjs=e.length;I=e;0<a.maxObjs?(a.currentObj=0,a.finishedObjs=0,u("obj")):
J();break;case "obj":e=m(I[a.currentObj]);e.addClass("fs-animation");var b=e.attr("data-position"),f=e.attr("data-in"),d=e.attr("data-delay"),g=e.attr("data-time"),h=e.attr("data-ease-in"),l=e.attr("data-special"),b=null==b?c.position.split(","):b.split(",");null==f&&(f=c.transitionIn);null==d&&(d=c.delay);null==h&&(h=c.easeIn);N(e,b,f,d,g,h,l);a.currentObj+=1;a.currentObj<a.maxObjs?u("obj"):a.currentObj=0}}function F(){var e=c.timeout;a.init?(a.init=!1,D(!0)):G.push(setTimeout(function(){if(0!=a.maxSlide||
!0!=a.running)a.lastSlide=a.currentSlide,a.currentSlide+=1,D()},e))}function D(e){m(".active-slide").removeClass("active-slide");a.currentSlide>a.maxSlide&&(a.currentSlide=0);0>a.currentSlide&&(a.currentSlide=a.maxSlide);k.currentSlide=l.children(".slide:eq("+a.currentSlide+")").addClass("active-slide");0==k.currentSlide.length&&(a.currentSlide=0,k.currentSlide=l.children(".slide:eq("+a.currentSlide+")"));null!=a.lastSlide&&(0>a.lastSlide&&(a.lastSlide=a.maxSlide),k.lastSlide=l.children(".slide:eq("+
a.lastSlide+")"));e?k.animation="none":(k.animation=k.currentSlide.attr("data-in"),null==k.animation&&(k.animation=c.slideTransition));if(c.slideEndAnimation&&null!=a.lastSlide)O();else switch(k.animation){case "none":z();B();break;case "scrollLeft":z();B();break;case "scrollRight":z();B();break;case "scrollTop":z();B();break;case "scrollBottom":z();B();break;default:z()}}function z(){if(c.backgroundAnimation){var e;e=null==c.backgroundElement||""==c.backgroundElement?l.parent():m(c.backgroundElement);
var b=e.css("background-position"),b=b.split(" "),f=c.backgroundX,d=c.backgroundY,f=Number(b[0].replace(/[px,%]/g,""))+Number(f),b=Number(b[1].replace(/[px,%]/g,""))+Number(d);e.animate({backgroundPositionX:f+"px",backgroundPositionY:b+"px"},c.backgroundSpeed,c.backgroundEase)}c.pager&&(y.removeClass("active"),y.eq(a.currentSlide).addClass("active"));P();k.currentSlide.children().hide();a.currentStep=0;a.currentObj=0;a.maxObjs=0;a.finishedObjs=0;k.currentSlide.children("[data-fixed]").show();Q()}
function B(){null!=k.lastSlide&&"none"!=k.animation&&R()}function P(){var e=0;k.currentSlide.children().each(function(){var a=parseFloat(m(this).attr("data-step"));e=a>e?a:e});a.maxStep=e}function J(){a.stepComplete=!0;a.currentStep+=1;a.currentStep>a.maxStep?c.autoChange&&(a.currentStep=0,a.slideComplete=!0,u("slide")):u("step")}function O(){k.lastSlide.children(":not([data-fixed])").each(function(){var a=m(this),b=a.position(),f=a.attr("data-out"),d=a.attr("data-ease-out");null==f&&(f=c.transitionOut);
null==d&&(d=c.easeOut);K(a,b,f,null,d)}).promise().done(function(){B();z()})}function Q(){var a=k.currentSlide,b={},f={},d=c.slideTransitionSpeed,g=k.animation;unit=c.responsive?"%":"px";switch(g){case "slideLeft":b.left=q+unit;b.top="0"+unit;b.display="block";f.left="0"+unit;f.top="0"+unit;break;case "slideTop":b.left="0"+unit;b.top=-r+unit;b.display="block";f.left="0"+unit;f.top="0"+unit;break;case "slideBottom":b.left="0"+unit;b.top=r+unit;b.display="block";f.left="0"+unit;f.top="0"+unit;break;
case "slideRight":b.left=-q+unit;b.top="0"+unit;b.display="block";f.left="0"+unit;f.top="0"+unit;break;case "fade":b.left="0"+unit;b.top="0"+unit;b.display="block";b.opacity=0;f.opacity=1;break;case "none":b.left="0"+unit;b.top="0"+unit;b.display="block";d=0;break;case "scrollLeft":b.left=q+unit;b.top="0"+unit;b.display="block";f.left="0"+unit;f.top="0"+unit;break;case "scrollTop":b.left="0"+unit;b.top=-r+unit;b.display="block";f.left="0"+unit;f.top="0"+unit;break;case "scrollBottom":b.left="0"+unit;
b.top=r+unit;b.display="block";f.left="0"+unit;f.top="0"+unit;break;case "scrollRight":b.left=-q+unit,b.top="0"+unit,b.display="block",f.left="0"+unit,f.top="0"+unit}a.css(b).animate(f,d,"linear",function(){null!=k.lastSlide&&k.lastSlide.hide();a.hasClass("active-slide")&&u("step")})}function R(){var a={},b=c.slideTransitionSpeed,f=null,d=k.animation,f=c.responsive?"%":"px";switch(d){case "scrollLeft":a.left=-q+f;a.top="0"+f;break;case "scrollTop":a.left="0"+f;a.top=r+f;break;case "scrollBottom":a.left=
"0"+f;a.top=-r+f;break;case "scrollRight":a.left=q+f;a.top="0"+f;break;default:b=0}k.lastSlide.animate(a,b,"linear",function(){})}function N(e,b,f,d,g,h,l){var n={},k={},p=c.speedIn,w=null,w=c.responsive?"%":"px";null!=g&&(p=g-d);n.opacity=1;switch(f){case "left":n.top=b[0];n.left=q;break;case "bottomLeft":n.top=r;n.left=q;break;case "topLeft":n.top=-1*e.outerHeight();n.left=q;break;case "top":n.top=-1*e.outerHeight();n.left=b[1];break;case "bottom":n.top=r;n.left=b[1];break;case "right":n.top=b[0];
n.left=-v-e.outerWidth();break;case "bottomRight":n.top=r;n.left=-v-e.outerWidth();break;case "topRight":n.top=-1*e.outerHeight();n.left=-v-e.outerWidth();break;case "fade":n.top=b[0];n.left=b[1];n.opacity=0;k.opacity=1;break;case "none":n.top=b[0],n.left=b[1],n.display="none",p=0}k.top=b[0];k.left=b[1];k.left+=w;k.top+=w;n.left+=w;n.top+=w;G.push(setTimeout(function(){if("cycle"==l&&e.attr("rel")==a.currentSlide){var b=e.prev();if(0<b.length){var f=m(b).attr("data-position").split(","),f={top:f[0],
left:f[1]},d=m(b).attr("data-out");null==d&&(d=c.transitionOut);K(b,f,d,p)}}e.css(n).show().animate(k,p,h,function(){e.removeClass("fs-animation");e.attr("rel")==a.currentSlide&&(a.finishedObjs+=1,a.finishedObjs==a.maxObjs&&J())}).addClass("fs_obj_active")},d))}function K(a,b,f,d,g){b={};var h={},l=null;d=c.speedOut;var l=c.responsive?"%":"px",n=a.outerWidth(),k=a.outerHeight();c.responsive&&(n/=p/100,k/=t/100);switch(f){case "left":h.left=-v-100-n;break;case "bottomLeft":h.top=r;h.left=-v-100-n;
break;case "topLeft":h.top=-k;h.left=-v-100-n;break;case "top":h.top=-k;break;case "bottom":h.top=r;break;case "right":h.left=q;break;case "bottomRight":h.top=r;h.left=q;break;case "topRight":h.top=-k;h.left=q;break;case "fade":b.opacity=1;h.opacity=0;break;case "hide":h.display="none";d=0;break;default:h.display="none",d=0}"undefined"!=typeof h.top&&0<h.top.toString().indexOf("px")&&(h.top=h.top.substring(0,h.top.length-2),c.responsive&&(h.top/=t/100));"undefined"!=typeof h.left&&0<h.left.toString().indexOf("px")&&
(h.left=h.left.substring(0,h.left.length-2),c.responsive&&(h.left/=p/100));h.left+=l;h.top+=l;a.css(b).animate(h,d,g,function(){a.hide()}).removeClass("fs_obj_active")}function S(){var a=c.dimensions.split(","),b=T();p=a["0"];t=a["1"];c.increase||m(g).css({maxWidth:p+"px"});l.children(".slide").find("*").each(function(){var a=m(this),d=null,c=null,d=null;null!=a.attr("data-position")&&(c=a.attr("data-position").split(","),d=c[1]/(p/100),c=c[0]/(t/100),a.attr("data-position",c+","+d));null!=a.attr("width")&&
""!=a.attr("width")?(d=a.attr("width"),d/=p/100,a.attr("width",d+"%"),a.css("width",d+"%")):"0px"!=a.css("width")?(d=a.css("width"),0<d.indexOf("px")&&(d=d.substring(0,d.length-2),d/=p/100,a.css("width",d+"%"))):"img"==a.prop("tagName").toLowerCase()&&-1!=b?(d=new Image,d.src=a.attr("src"),d=d.width,d/=p/100,a.css("width",d+"%").attr("width",d+"%")):"img"==a.prop("tagName").toLowerCase()&&(d=a.get(0).width,d/=p/100,a.css("width",d+"%"));null!=a.attr("height")&&""!=a.attr("height")?(d=a.attr("height"),
c=d/(t/100),a.attr("height",c+"%"),a.css("height",c+"%")):"0px"!=a.css("height")?(d=a.css("height"),0<d.indexOf("px")&&(d=d.substring(0,d.length-2),c=d/(t/100),a.css("height",c+"%"))):"img"==a.prop("tagName").toLowerCase()&&-1!=b?(d=new Image,d.src=a.attr("src"),d=d.height,c=d/(t/100),a.css("height",c+"%").attr("height",c+"%")):"img"==a.prop("tagName").toLowerCase()&&(d=a.get(0).height,c=d/(t/100),a.css("height",c+"%"));a.attr("data-fontsize",a.css("font-size"))});l.css({width:"auto",height:"auto"}).append('<div class="fs-stretcher" style="width:'+
p+"px; height:"+t+'px"></div>');L();m(window).bind("resize",function(){L()})}function L(){var e=l.innerWidth();l.innerHeight();if(e<=p||c.increase){var b=e/(p/t);l.find(".fs-stretcher").css({width:e+"px",height:b+"px"})}E=m("body").width();b=l.width();v=(E-b)/2/(p/100);q=100;c.fullWidth&&(q=100+2*v);r=100;(!1==a.init||e<p)&&U()}function U(){var a=null;l.children(".slide").find("*").each(function(){obj=m(this);var b=obj.attr("data-fontsize");0<b.indexOf("px")&&(b=b.substring(0,b.length-2),a=b/(t/100)*
(l.find(".fs-stretcher").height()/100),obj.css("fontSize",a+"px"),obj.css("lineHeight","100%"))})}function M(a){var b=a.length;m.each(a,function(c){clearTimeout(this);c==b-1&&(a=[])})}function T(){var a=-1;"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1));return a}var a={init:!0,running:!1,pause:!1,stop:!1,slideComplete:!1,stepComplete:!1,controlsActive:!0,currentSlide:0,lastSlide:null,maxSlide:0,currentStep:0,
maxStep:0,currentObj:0,maxObjs:0,finishedObjs:0},k={currentSlide:null,lastSlide:null,animationkey:"none"},G=[],I=null,p=null,t=null;m(g).wrapInner('<div class="fraction-slider" />');var l=m(g).find(".fraction-slider"),y=null;a.maxSlide=l.children(".slide").length-1;var q=l.width(),E=m("body").width(),v=0;c.fullWidth&&(v=(E-q)/2,q=E);var r=l.height();(function(){c.controls&&(l.append('<a href="#" class="prev"></a><a href="#" class="next" ></a>'),l.find(".next").bind("click",function(){s();H();return!1}),
l.find(".prev").bind("click",function(){s();a.lastSlide=a.currentSlide;a.currentSlide-=1;a.stop=!1;a.pause=!1;a.running=!0;D();x(c.prevSlideCallback);return!1}));c.pauseOnHover&&l.bind({mouseenter:function(){A(!1)},mouseleave:function(){C()}});c.fullWidth?l.css({overflow:"visible"}):l.css({overflow:"hidden"});if(c.pager){var e="boolean"!==typeof c.pager;y=e?c.pager:m('<div class="fs-pager-wrapper"></div>');e?y.addClass("fs-custom-pager-wrapper"):l.append(y)}l.children(".slide").each(function(b){var f=
m(this);f.children().attr("rel",b).addClass("fs_obj");f.children("[data-fixed]").addClass("fs_fixed_obj");if(c.pager||e)b=m('<a rel="'+b+'" href="#"></a>').bind("click",function(){var b=parseInt(m(this).attr("rel"));b!=a.currentSlide&&(s(),a.lastSlide=a.currentSlide,a.currentSlide=b,a.stop=!1,a.pause=!1,a.running=!0,D(),x(c.pagerCallback));return!1}),y.append(b)});c.pager&&(y=m(y).children("a"));c.responsive&&S();0<l.find(".fs_loader").length&&l.find(".fs_loader").remove();w()})();this.start=function(){w()};
this.startNextSlide=function(){a.stop=!1;a.pause=!1;a.running=!0;H();x(c.startNextSlideCallback)};this.stop=function(){s()};this.pause=function(){A(!1)};this.resume=function(){C()}};m.fn.fractionSlider=function(g){if(A[g])return A[g].apply(this,Array.prototype.slice.call(arguments,1));if("object"!=typeof g&&g)m.error("Method "+g+" does not exist on jQuery.tooltip");else return A.init.apply(this,arguments)};var C={};m.each(["Quad","Cubic","Quart","Quint","Expo"],function(g,c){C[c]=function(c){return Math.pow(c,
g+2)}});m.extend(C,{Sine:function(g){return 1-Math.cos(g*Math.PI/2)},Circ:function(g){return 1-Math.sqrt(1-g*g)},Elastic:function(g){return 0==g||1==g?g:-Math.pow(2,8*(g-1))*Math.sin((80*(g-1)-7.5)*Math.PI/15)},Back:function(g){return g*g*(3*g-2)},Bounce:function(g){for(var c,m=4;g<((c=Math.pow(2,--m))-1)/11;);return 1/Math.pow(4,3-m)-7.5625*Math.pow((3*c-2)/22-g,2)}});m.each(C,function(g,c){m.easing["easeIn"+g]=c;m.easing["easeOut"+g]=function(g){return 1-c(1-g)};m.easing["easeInOut"+g]=function(g){return 0.5>
g?c(2*g)/2:1-c(-2*g+2)/2}})})(jQuery);